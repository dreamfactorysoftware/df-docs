"use strict";(self.webpackChunkdf_docs=self.webpackChunkdf_docs||[]).push([[948],{9990:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>d});var n=s(4848),t=s(8453);const i={sidebar_position:1},c="Scripting resources",o={id:"Scripting/scripting-resources",title:"Scripting resources",description:"This page provides a comprehensive overview of the resources available for scripting in DreamFactory, including links to sample scripts and documentation references for event scripting and scripted services.",source:"@site/docs/Scripting/scripting-resources.md",sourceDirName:"Scripting",slug:"/Scripting/scripting-resources",permalink:"/Scripting/scripting-resources",draft:!1,unlisted:!1,editUrl:"https://github.com/dreamfactorysoftware/df-docs/tree/main/docs/Scripting/scripting-resources.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"intro",previous:{title:"Rate Limiting",permalink:"/Security and Authentication/limits"},next:{title:"Event Scripts",permalink:"/Scripting/event-scripting"}},l={},d=[{value:"Overview",id:"overview",level:2},{value:"Supported Scripting Languages",id:"supported-scripting-languages",level:2},{value:"Supported scripting languages",id:"supported-scripting-languages-1",level:2},{value:"Programmatic Resources Available to Scripts",id:"programmatic-resources-available-to-scripts",level:2},{value:"Event Resource",id:"event-resource",level:3},{value:"Event Request",id:"event-request",level:4},{value:"Where to use DreamFactory scripting",id:"where-to-use-dreamfactory-scripting",level:2},{value:"Programatic resources available to a script",id:"programatic-resources-available-to-a-script",level:2},{value:"Event Response",id:"event-response",level:4},{value:"Platform Resource",id:"platform-resource",level:3},{value:"Event resource",id:"event-resource-1",level:3},{value:"Platform API",id:"platform-api",level:4},{value:"Event request",id:"event-request-1",level:4},{value:"Helpful Links and Sample Scripts",id:"helpful-links-and-sample-scripts",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Troubleshooting Tips",id:"troubleshooting-tips",level:2}];function a(e){const r={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.header,{children:(0,n.jsx)(r.h1,{id:"scripting-resources",children:"Scripting resources"})}),"\n",(0,n.jsx)(r.p,{children:"This page provides a comprehensive overview of the resources available for scripting in DreamFactory, including links to sample scripts and documentation references for event scripting and scripted services."}),"\n",(0,n.jsx)(r.h2,{id:"overview",children:"Overview"}),"\n",(0,n.jsx)(r.p,{children:"DreamFactory's scripting capabilities allow you to extend the functionality of your APIs by executing custom scripts in response to events or as standalone services. These scripts can be written in various supported languages and can interact with the DreamFactory platform to perform complex operations."}),"\n",(0,n.jsx)(r.h2,{id:"supported-scripting-languages",children:"Supported Scripting Languages"}),"\n",(0,n.jsx)(r.p,{children:"DreamFactory offers an extraordinarily powerful solution for creating APIs and adding business logic to existing APIs using a variety of popular scripting languages including PHP, Python, Node.js, and JavaScript. In this section we walk through several examples to spur your imagination regarding the many ways you can take advantage of this great feature."}),"\n",(0,n.jsx)(r.h2,{id:"supported-scripting-languages-1",children:"Supported scripting languages"}),"\n",(0,n.jsx)(r.p,{children:"DreamFactory has several scripting languages available for customized scripting of endpoints and services. To get a list of the currently supported and configured scripts on a particular instance, use the API endpoint:"}),"\n",(0,n.jsx)(r.p,{children:"DreamFactory supports several scripting languages:"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"Node.js"}),": Server-side JavaScript handler using the Node.js engine."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"PHP"}),": Script handler using native PHP."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"Python"}),": Script handler using native Python."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"Python3"}),": Script handler using native Python3."]}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"programmatic-resources-available-to-scripts",children:"Programmatic Resources Available to Scripts"}),"\n",(0,n.jsx)(r.p,{children:"When a script is executed, DreamFactory provides two primary resources:"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"Event Resource"}),": Contains data about the event triggering the script."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"Platform Resource"}),": Allows access to configuration, system states, and internal API calls."]}),"\n"]}),"\n",(0,n.jsx)(r.h3,{id:"event-resource",children:"Event Resource"}),"\n",(0,n.jsx)(r.p,{children:"The following languages are typically supported on DreamFactory installations"}),"\n",(0,n.jsxs)(r.p,{children:["The event resource includes properties such as ",(0,n.jsx)(r.code,{children:"request"}),", ",(0,n.jsx)(r.code,{children:"response"}),", and ",(0,n.jsx)(r.code,{children:"resource"}),", which represent the inbound REST API call, the response, and any additional resource names, respectively."]}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:(0,n.jsx)(r.strong,{children:"Property"})}),(0,n.jsx)(r.th,{children:(0,n.jsx)(r.strong,{children:"Type"})}),(0,n.jsx)(r.th,{children:(0,n.jsx)(r.strong,{children:"Description"})})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"request"})}),(0,n.jsx)(r.td,{children:"resource"}),(0,n.jsx)(r.td,{children:"Represents the inbound REST API call, i.e. the HTTP request"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"response"})}),(0,n.jsx)(r.td,{children:"resource"}),(0,n.jsx)(r.td,{children:"Represents the response to an inbound REST API call, i.e the HTTP response"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"resource"})}),(0,n.jsx)(r.td,{children:"string"}),(0,n.jsxs)(r.td,{children:["Any additional resource names typically represented as a replaceable part of the path, i.e. ",(0,n.jsx)(r.code,{children:"table name"})," on a ",(0,n.jsx)(r.code,{children:"db/_table/{table_name}"})," call"]})]})]})]}),"\n",(0,n.jsx)(r.h4,{id:"event-request",children:"Event Request"}),"\n",(0,n.jsxs)(r.p,{children:["The ",(0,n.jsx)(r.strong,{children:"request"})," resource contains all the components of the original HTTP request. This resource is always available, and is writable during pre-process event scripting."]}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:(0,n.jsx)(r.strong,{children:"Property"})}),(0,n.jsx)(r.th,{children:(0,n.jsx)(r.strong,{children:"Type"})}),(0,n.jsx)(r.th,{children:(0,n.jsx)(r.strong,{children:"Description"})})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"api_version"})}),(0,n.jsx)(r.td,{children:"string"}),(0,n.jsx)(r.td,{children:"The API version used for the request (i.e. 2.0)."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"method"})}),(0,n.jsx)(r.td,{children:"string"}),(0,n.jsx)(r.td,{children:"The HTTP method of the request (i.e. GET, POST, PUT)."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"parameters"})}),(0,n.jsx)(r.td,{children:"resource"}),(0,n.jsx)(r.td,{children:"An object/array of query string parameters received with the request, indexed by the parameter name."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"headers"})}),(0,n.jsx)(r.td,{children:"resource"}),(0,n.jsx)(r.td,{children:"An object/array of HTTP headers from the request, indexed by the lowercase header name. Including content-length, content-type, user-agent, authorization, and host."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"content"})}),(0,n.jsx)(r.td,{children:"string"}),(0,n.jsx)(r.td,{children:"The body of the request in raw string format."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"content_type"})}),(0,n.jsx)(r.td,{children:"string"}),(0,n.jsx)(r.td,{children:"The format type (i.e. \u201capplication/json\u201d) of the raw content of the request."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"payload"})}),(0,n.jsx)(r.td,{children:"resource"}),(0,n.jsx)(r.td,{children:"The body (POST body) of the request, i.e. the content, converted to an internally usable object/array if possible."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"uri"})}),(0,n.jsx)(r.td,{children:"string"}),(0,n.jsx)(r.td,{children:"Resource path, i.e. /api/v2/php."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"service"})}),(0,n.jsx)(r.td,{children:"string"}),(0,n.jsx)(r.td,{children:"The type of service, i.e. php, nodejs, python."})]})]})]}),"\n",(0,n.jsx)(r.h2,{id:"where-to-use-dreamfactory-scripting",children:"Where to use DreamFactory scripting"}),"\n",(0,n.jsxs)(r.p,{children:["Scripts can be used in two places in DreamFactory, ",(0,n.jsx)(r.em,{children:(0,n.jsx)(r.strong,{children:"Event Scripts"})})," and ",(0,n.jsx)(r.em,{children:(0,n.jsx)(r.strong,{children:"Scripted APIs"})}),". ",(0,n.jsx)(r.em,{children:(0,n.jsx)(r.strong,{children:"Event Scripts"})})," is tied to and triggered by API calls, internal events, or other scrips. The other way scripts are used is through customize-able script APIs. There is a scripting API type for each supporting scripting language listed above."]}),"\n",(0,n.jsx)(r.h2,{id:"programatic-resources-available-to-a-script",children:"Programatic resources available to a script"}),"\n",(0,n.jsxs)(r.p,{children:["When a script is executed, DreamFactory passes the script(s) two primary resources to allow the script to access many parts of the system, including the state, configuration and even the ability to call other internal or external APIs. They are the ",(0,n.jsx)(r.strong,{children:"event"})," and ",(0,n.jsx)(r.strong,{children:"platform"})," resources described below."]}),"\n",(0,n.jsx)(r.h4,{id:"event-response",children:"Event Response"}),"\n",(0,n.jsxs)(r.p,{children:["The ",(0,n.jsx)(r.strong,{children:"response"})," resource contains the data being sent back to the client from the request."]}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:(0,n.jsx)(r.strong,{children:"Property"})}),(0,n.jsx)(r.th,{children:(0,n.jsx)(r.strong,{children:"Type"})}),(0,n.jsx)(r.th,{children:(0,n.jsx)(r.strong,{children:"Description"})})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"status_code"})}),(0,n.jsx)(r.td,{children:"integer"}),(0,n.jsx)(r.td,{children:"The HTTP status code of the response (i.e. 200, 404, 500, etc)."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"headers"})}),(0,n.jsx)(r.td,{children:"resource"}),(0,n.jsx)(r.td,{children:"An object/array of HTTP headers for the response back to the client."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"content"})}),(0,n.jsx)(r.td,{children:"mixed"}),(0,n.jsx)(r.td,{children:"The body of the request as an object if the content_type is not set, or in raw string format."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"content_type"})}),(0,n.jsx)(r.td,{children:"string"}),(0,n.jsx)(r.td,{children:"The content type (i.e. json) of the raw content of the request."})]})]})]}),"\n",(0,n.jsx)(r.h3,{id:"platform-resource",children:"Platform Resource"}),"\n",(0,n.jsx)(r.h3,{id:"event-resource-1",children:"Event resource"}),"\n",(0,n.jsx)(r.p,{children:"The event resource contains the structured data about the event triggered (Event Scripts) or from the API service call (Script APIs). As seen below, this includes things like the request and response information available to this \u201cevent\u201d."}),"\n",(0,n.jsx)(r.admonition,{type:"info",children:(0,n.jsxs)(r.p,{children:["In order for a script to modify the event resource, the script must be configured to allow modification to events. This is done in the script editing screen by checking the ",(0,n.jsx)(r.strong,{children:"Allow script to modify request payload"})," checkbox."]})}),"\n",(0,n.jsxs)(r.p,{children:["The platform resource provides access to the instance's REST API, configuration settings, and session information. It includes methods for making internal API calls using REST verbs like ",(0,n.jsx)(r.code,{children:"get"}),", ",(0,n.jsx)(r.code,{children:"post"}),", ",(0,n.jsx)(r.code,{children:"put"}),", ",(0,n.jsx)(r.code,{children:"patch"}),", and ",(0,n.jsx)(r.code,{children:"delete"}),"."]}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:(0,n.jsx)(r.strong,{children:"Property"})}),(0,n.jsx)(r.th,{children:(0,n.jsx)(r.strong,{children:"Type"})}),(0,n.jsx)(r.th,{children:(0,n.jsx)(r.strong,{children:"Description"})})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"api"})}),(0,n.jsx)(r.td,{children:"resource"}),(0,n.jsx)(r.td,{children:"An array/object that allows access to the instance\u2019s REST API"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"config"})}),(0,n.jsx)(r.td,{children:"resource"}),(0,n.jsx)(r.td,{children:"An array/object consisting of the current configuration of the instance"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"session"})}),(0,n.jsx)(r.td,{children:"resource"}),(0,n.jsx)(r.td,{children:"An array/object consisting of the current session information"})]})]})]}),"\n",(0,n.jsx)(r.h4,{id:"platform-api",children:"Platform API"}),"\n",(0,n.jsx)(r.h4,{id:"event-request-1",children:"Event request"}),"\n",(0,n.jsxs)(r.p,{children:["The ",(0,n.jsx)(r.strong,{children:"api"})," resource contains methods for instance API access. This object contains a method for each type of REST verb."]}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:(0,n.jsx)(r.strong,{children:"Function"})}),(0,n.jsx)(r.th,{children:(0,n.jsx)(r.strong,{children:"Description"})})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"get"})}),(0,n.jsx)(r.td,{children:"GET a resource"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"post"})}),(0,n.jsx)(r.td,{children:"POST a resource"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"put"})}),(0,n.jsx)(r.td,{children:"PUT a resource"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"patch"})}),(0,n.jsx)(r.td,{children:"PATCH a resource"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"delete"})}),(0,n.jsx)(r.td,{children:"DELETE a resource"})]})]})]}),"\n",(0,n.jsx)(r.p,{children:"They all accept the same arguments:"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:'method( "service[/resource_path]"[, payload[, options]] );\n'})}),"\n",(0,n.jsx)(r.h2,{id:"helpful-links-and-sample-scripts",children:"Helpful Links and Sample Scripts"}),"\n",(0,n.jsx)(r.p,{children:"Explore a variety of scripting examples and resources to help you get started with DreamFactory scripting:"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:(0,n.jsx)(r.a,{href:"https://github.com/dreamfactorysoftware/example-scripts",children:"df-scriptingexamples Repository"})}),": A collection of sample scripts demonstrating how to leverage DreamFactory's scripting capabilities."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:(0,n.jsx)(r.a,{href:"/Scripting/event-scripting",children:"Event Scripting Documentation"})}),": Learn how to create and manage event scripts in DreamFactory."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:(0,n.jsx)(r.a,{href:"/Scripting/scripted-services",children:"Scripted Services Documentation"})}),": Discover how to create standalone scripted services and endpoints."]}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,n.jsxs)(r.ol,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"Modularize your code"}),": Break down complex logic into smaller, reusable functions."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"Handle errors gracefully"}),": Implement error handling to manage exceptions and provide meaningful error messages."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"Optimize performance"}),": Minimize script execution time to ensure efficient API responses."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"Secure your scripts"}),": Validate inputs and sanitize outputs to prevent security vulnerabilities."]}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"troubleshooting-tips",children:"Troubleshooting Tips"}),"\n",(0,n.jsxs)(r.ol,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"Check script syntax"}),": Ensure your script has correct syntax for the chosen language."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"Enable error logging"}),": Use DreamFactory's logging features to capture script errors."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"Test incrementally"}),": Start with simple scripts and gradually add complexity."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"Use platform.api for debugging"}),": Make API calls within your script to test functionality."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"Monitor performance"}),": Be mindful of script execution time, especially for complex scripts."]}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:"By utilizing these resources and best practices, you can effectively extend DreamFactory's capabilities and create powerful, customized API solutions."})]})}function h(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(a,{...e})}):a(e)}},8453:(e,r,s)=>{s.d(r,{R:()=>c,x:()=>o});var n=s(6540);const t={},i=n.createContext(t);function c(e){const r=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),n.createElement(i.Provider,{value:r},e.children)}}}]);