<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Installing DreamFactory/docker-installation" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Docker installation | DreamFactory Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://dreamfactory-docs.netlify.app/Installing DreamFactory/docker-installation"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Docker installation | DreamFactory Docs"><meta data-rh="true" name="description" content="Our Docker container includes everything you need to run DreamFactory, including Ubuntu 22.04, PHP 8.1, and the NGINX web server. It also includes all required PHP extensions and a sample Postgres Database. With these tools you can begin experimenting with the latest DreamFactory version as quickly as you can spin up the container!"><meta data-rh="true" property="og:description" content="Our Docker container includes everything you need to run DreamFactory, including Ubuntu 22.04, PHP 8.1, and the NGINX web server. It also includes all required PHP extensions and a sample Postgres Database. With these tools you can begin experimenting with the latest DreamFactory version as quickly as you can spin up the container!"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://dreamfactory-docs.netlify.app/Installing DreamFactory/docker-installation"><link data-rh="true" rel="alternate" href="https://dreamfactory-docs.netlify.app/Installing DreamFactory/docker-installation" hreflang="en"><link data-rh="true" rel="alternate" href="https://dreamfactory-docs.netlify.app/Installing DreamFactory/docker-installation" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://QGHNECBGGU-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="DreamFactory Docs" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.86d36df7.css">
<script src="/assets/js/runtime~main.8213dd6d.js" defer="defer"></script>
<script src="/assets/js/main.8d047c7a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="DreamFactory Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="DreamFactory Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">DreamFactory</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/intro">Documentation</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item"><a href="/search" class="button button--primary">Search</a></div><a href="https://github.com/dreamfactorysoftware/dreamfactory" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Overview/introducing-rest">Overview</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/Installing DreamFactory/installation">Installing DreamFactory</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Installing DreamFactory/installation">Installing DreamFactory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Installing DreamFactory/linux-installation">Linux installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Installing DreamFactory/docker-installation">Docker installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Installing DreamFactory/windows-installation">Windows Installation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/Installing DreamFactory/Enabling HTTPS/certbot">Enabling HTTPS</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/DreamFactory Configuration/configuration">DreamFactory Configuration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/DreamFactory Upgrades and Migrations/upgrades">DreamFactory Upgrades and Migrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/API Creation and Management/api-creation-management">API Creation and Management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Security and Authentication/role-based-access">Security and Authentication</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Scripting/scripting-resources">Scripting</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Advanced Topics/advanced-topics">Advanced Topics</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Installing DreamFactory</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Docker installation</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Docker installation</h1></header>
<p>Our Docker container includes everything you need to run DreamFactory, including Ubuntu 22.04, PHP 8.1, and the NGINX web server. It also includes all required PHP extensions and a sample Postgres Database. With these tools you can begin experimenting with the latest DreamFactory version as quickly as you can spin up the container!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<ul>
<li>Git<!-- -->
<ul>
<li>See: <a href="https://www.github.com" target="_blank" rel="noopener noreferrer">https://www.github.com</a></li>
</ul>
</li>
<li>Docker<!-- -->
<ul>
<li>See: <a href="https://docs.docker.com/installation" target="_blank" rel="noopener noreferrer">https://docs.docker.com/installation</a></li>
</ul>
</li>
<li>Docker Compose<!-- -->
<ul>
<li>See: <a href="https://docs.docker.com/compose/install" target="_blank" rel="noopener noreferrer">https://docs.docker.com/compose/install</a></li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>The DreamFactory docker application is set up to use docker-compose. To build and deploy the application, follow these steps:</p>
<ol>
<li>Clone the <a href="https://github.com/dreamfactorysoftware/df-docker.git" target="_blank" rel="noopener noreferrer">docker repo</a></li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/repos (or wherever you want the clone of the repo to be)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/dreamfactorysoftware/df-docker.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd df-docker</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>Edit the docker-compose.yml file (optional)</li>
</ol>
<p>The docker-compose yaml file has default settings for installing DreamFactory, but you may wish to edit the persistent or sample database details, usernames and passwords, or ports to access the application. You must edit the docker-compose file prior to building and running DreamFactory for these changes to take effect.</p>
<ol start="3">
<li>Build images with <code>docker-compose build</code></li>
</ol>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Backup your APP_KEY</div><div class="admonitionContent_BuS1"><p>Running this after an initial deployment rebuilds the entire application unless you save and re-use the APP_KEY as described below.</p></div></div>
<ol start="4">
<li>Start containers with <code>docker-compose up -d</code></li>
</ol>
<p>This command spins up 4 containers:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">df-docker-web</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - The DreamFactory application and web portal.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysql:5.7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - A MySQL container for the system database.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - A Redis instance used for caching.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aa8y/postgres-dataset</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - A PostGreSQL Database with over 100k records for testing.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Your terminal output should look like this:
<img decoding="async" loading="lazy" alt="docker-compose up -d terminal output" src="/assets/images/docker-compose-up-terminal-output-e6f0b7f2bf1795f9e7cfa7cdbebf0f23.png" width="670" height="173" class="img_ev3q"></p>
<ol start="5">
<li>Access the Admin UI</li>
</ol>
<p>By default, docker-compose is on localhost port 80. To access the application, open <code>http://localhost</code> or <code>http://127.0.0.1</code> in a browser window.</p>
<p>The first time docker-compose is executed, it may take a few minutes to load and accept traffic. If port 80 is taken by another application, edit the docker-compose yaml file to use a different port (e.g. 8080) and return to step 3 above.</p>
<p>Once the web server is live, a splash screen displays briefly:</p>
<p><img decoding="async" loading="lazy" alt="docker splash screen" src="/assets/images/docker-compose-splash-page-529cbf5e7ca8c9b090951cb515219005.png" width="1247" height="781" class="img_ev3q"></p>
<p>Continue waiting for the application to load and do not click back or refresh at this time. Occasionally the page loads before the DB migrations are completed. If that happens a light red screen with an error message displays. In that case it is safe to allow the jobs to finish and refresh the page. After a few minutes the <strong>Create a System Administrator</strong> page displays:</p>
<p><img decoding="async" loading="lazy" alt="docker create admin page" src="/assets/images/initial-login-create-admin-page-be7d55e24add757147ae43ffdbbcb8a9.png" width="1322" height="966" class="img_ev3q"></p>
<p>Complete the required fields and DreamFactory is ready to use!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="persisting-system-database-configs">Persisting system database configs<a href="#persisting-system-database-configs" class="hash-link" aria-label="Direct link to Persisting system database configs" title="Direct link to Persisting system database configs">​</a></h2>
<p>After you have spun up your DreamFactory instance, you should save the APP_KEY value from the .env file located in the web container&#x27;s /opt/dreamfactory directory. This can be done with the following command while DreamFactory is running:</p>
<p><code>docker-compose exec web cat .env | grep APP_KEY</code></p>
<p>A few lines of output are display, but only need to copy the APP_KEY itself (everything after <code>APP_KEY=</code> through the final <code>=</code> sign).</p>
<p><img decoding="async" loading="lazy" alt="app key output" src="/assets/images/app-key-output-b5b22fc26c759ed84837fbe518893ef1.png" width="1168" height="102" class="img_ev3q"></p>
<p>Should you ever need to rebuild, set this value as the APP_KEY value in the docker-compose.yml file.  Uncomment the line in services -&gt; web -&gt; environment and paste your key from the above output, wrapped in single quotes.  This allows the new build to access the previous encrypted settings and prevent data loss and errors in the application.</p>
<p><img decoding="async" loading="lazy" alt="app key in docker-compose" src="/assets/images/app-key-docker-compose-f518faf29049f190615f73fc696e5630.png" width="628" height="624" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Backup your docker-compose file</div><div class="admonitionContent_BuS1"><p>If you&#x27;ve overridden other defaults such as database settings or ports, ensure that you backup your entire docker-compose file and compare your old values with the latest file. Skipping this step will lead to issues when upgrading.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="testing-data">Testing data<a href="#testing-data" class="hash-link" aria-label="Direct link to Testing data" title="Direct link to Testing data">​</a></h2>
<p>We mount a PostGres container with over 100k records to test without connecting your own data sets. To utilize the container, use the following connection details:</p>
<p>To retrieve the host IP, run: <code>docker inspect &lt;container-id for postgres&gt; | grep &quot;IPAddress&quot;</code></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Host: The docker IP from above</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Port: 5432</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Database Name: dellstore</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Username: postgres</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Password: root_pw</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Use the settings above to add a new Database API Connection. This generates a fully documented and secure API from the PostGres container.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="adding-a-commercial-license">Adding a commercial license<a href="#adding-a-commercial-license" class="hash-link" aria-label="Direct link to Adding a commercial license" title="Direct link to Adding a commercial license">​</a></h2>
<p>If you are a commercial customer and have a license key for DreamFactory, you should:</p>
<ol>
<li>Add the license files to the <code>df-docker</code> directory</li>
<li>Uncomment lines 14 and 51 of the <code>Dockerfile</code></li>
<li>Add the license key to line 51 of <code>Dockerfile</code></li>
<li>continue with steps 2-5 above</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="upgrading-your-docker-instance">Upgrading your Docker instance<a href="#upgrading-your-docker-instance" class="hash-link" aria-label="Direct link to Upgrading your Docker instance" title="Direct link to Upgrading your Docker instance">​</a></h2>
<p>As new features and enhancements are added to DreamFactory, you may want to upgrade to a newer version. To install a newer version of DreamFactory, you should:</p>
<ol>
<li>Backup your existing environment</li>
</ol>
<p>As a best practice, you should back up your files and system database before attempting to upgrade to a new version.  This includes extracting your <code>APP_KEY</code> from the existing docker container (see the Persisting system database configs section above).</p>
<ol start="2">
<li>
<p>Update your repo with <code>git pull</code> and <code>git tag --list</code> to see the tagged versions available.</p>
</li>
<li>
<p>Stop the DreamFactory container without deleting it with <code>docker-compose stop</code> (this brings the instance offline until the upgrade is complete).</p>
</li>
<li>
<p>Check out the newer tagged version with <code>git checkout tags/{version}</code>.</p>
</li>
<li>
<p>Add the <code>APP_KEY</code> to the docker-compose file (see above for instructions).</p>
</li>
</ol>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Ensure that you enclose the <code>APP_KEY</code> with single quotes.</div></div>
<ol start="6">
<li>
<p>Modify any other settings in docker-compose as needed for your environment (compare the old docker-compose file with the new one as needed).</p>
</li>
<li>
<p>Save your changes and rebuild the container with <code>docker-compose up -d --build</code>.</p>
</li>
<li>
<p>Double-check that all services are running as expected with <code>docker-compose ps</code>.</p>
</li>
</ol>
<p>If any of the containers are not in a good state, you can view the logs with <code>docker-compose logs web</code> (or whatever container had the error).</p>
<ol start="9">
<li>Once the containers are all up and running, check if the system DB schema needs a migration with <code>docker-compose exec web php artisan migrate:status</code>.  The output should look similar to this:</li>
</ol>
<p><img decoding="async" loading="lazy" alt="artisan migrate" src="/assets/images/docker-artisan-migrate-status-3800d9db0b9925b18849d5650445ede1.png" width="1550" height="336" class="img_ev3q"></p>
<p>If any rows don&#x27;t show <code>Ran</code> for the job, you must manually run the migration with <code>docker-compose exec web php artisan migrate</code>.</p>
<ol start="10">
<li>The final step is to clear the configuration and cache with:</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose exec web php artisan config:clear</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose exec web php artisan cache:clear</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>After clearing the cache, open DreamFactory and verify the environment is operational.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="platform-specific-instructions">Platform-specific instructions<a href="#platform-specific-instructions" class="hash-link" aria-label="Direct link to Platform-specific instructions" title="Direct link to Platform-specific instructions">​</a></h2>
<p>The containerized application should be compatible with any platform that supports docker and docker-compose, but depending on your system configuration, you may need to edit the <code>docker-compose.yml</code> to meet your needs.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mac-m-series-processors">Mac M-series processors<a href="#mac-m-series-processors" class="hash-link" aria-label="Direct link to Mac M-series processors" title="Direct link to Mac M-series processors">​</a></h3>
<p>The docker containers were built on amd64 architecture.  Docker Desktop for Mac allows you to specify the platform, even if you are running an M-Series (M1/M2/M3) processor, by adding <code>platform: linux/amd64</code> to each service in the<code>docker-compose.yml</code> file.</p>
<p>e.g.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">version: &#x27;3&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">services:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  mysql:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    platform: linux/amd64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    environment:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  redis:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    platform: linux/amd64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    image: redis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  web:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    platform: linux/amd64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    depends_on:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    environment:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>After adding the platform setting, you can deploy the application on MacBook M-series processors using the instructions above.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/dreamfactorysoftware/df-docs/tree/main/docs/Installing DreamFactory/docker-installation.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Installing DreamFactory/linux-installation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Linux installation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Installing DreamFactory/windows-installation"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Windows Installation</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#persisting-system-database-configs" class="table-of-contents__link toc-highlight">Persisting system database configs</a></li><li><a href="#testing-data" class="table-of-contents__link toc-highlight">Testing data</a></li><li><a href="#adding-a-commercial-license" class="table-of-contents__link toc-highlight">Adding a commercial license</a></li><li><a href="#upgrading-your-docker-instance" class="table-of-contents__link toc-highlight">Upgrading your Docker instance</a></li><li><a href="#platform-specific-instructions" class="table-of-contents__link toc-highlight">Platform-specific instructions</a><ul><li><a href="#mac-m-series-processors" class="table-of-contents__link toc-highlight">Mac M-series processors</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/intro">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/dreamfactorysoftware/dreamfactory" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/dreamfactory" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/dreamfactorysoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/dreamfactory-software-inc" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@DreamfactorySoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://blog.dreamfactory.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Legacy Blog</a></li><li class="footer__item"><a href="https://wiki.dreamfactory.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Legacy Wiki</a></li><li class="footer__item"><a href="https://guide.dreamfactory.com/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Legacy Docs</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 DreamFactory Software, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>