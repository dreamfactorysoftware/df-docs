<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-API Creation and Management/generating-a-database-backed-api" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Generating a Database-backed API | DreamFactory Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://dreamfactory-docs.netlify.app/API Creation and Management/generating-a-database-backed-api"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Generating a Database-backed API | DreamFactory Docs"><meta data-rh="true" name="description" content="DreamFactory&#x27;s capabilities are vast, however its most popular feature is the ability to generate a database-backed REST API. By embracing this automated approach, development teams can shave weeks if not months off the development cycle, and in doing so greatly reduce the likelihood of bugs or security issues due to mishaps such as SQL injection. This approach doesn&#x27;t come with any trade offs either, because DreamFactory&#x27;s database-backed APIs are fully-featured REST interfaces. They offer comprehensive CRUD (create, retrieve, update, delete) capabilities, endpoints for executing stored procedures, and even endpoints for managing the schema."><meta data-rh="true" property="og:description" content="DreamFactory&#x27;s capabilities are vast, however its most popular feature is the ability to generate a database-backed REST API. By embracing this automated approach, development teams can shave weeks if not months off the development cycle, and in doing so greatly reduce the likelihood of bugs or security issues due to mishaps such as SQL injection. This approach doesn&#x27;t come with any trade offs either, because DreamFactory&#x27;s database-backed APIs are fully-featured REST interfaces. They offer comprehensive CRUD (create, retrieve, update, delete) capabilities, endpoints for executing stored procedures, and even endpoints for managing the schema."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://dreamfactory-docs.netlify.app/API Creation and Management/generating-a-database-backed-api"><link data-rh="true" rel="alternate" href="https://dreamfactory-docs.netlify.app/API Creation and Management/generating-a-database-backed-api" hreflang="en"><link data-rh="true" rel="alternate" href="https://dreamfactory-docs.netlify.app/API Creation and Management/generating-a-database-backed-api" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://QGHNECBGGU-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="DreamFactory Docs" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.86d36df7.css">
<script src="/assets/js/runtime~main.8213dd6d.js" defer="defer"></script>
<script src="/assets/js/main.8d047c7a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="DreamFactory Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="DreamFactory Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">DreamFactory</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/intro">Documentation</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item"><a href="/search" class="button button--primary">Search</a></div><a href="https://github.com/dreamfactorysoftware/dreamfactory" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Overview/introducing-rest">Overview</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Installing DreamFactory/installation">Installing DreamFactory</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/DreamFactory Configuration/configuration">DreamFactory Configuration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/DreamFactory Upgrades and Migrations/upgrades">DreamFactory Upgrades and Migrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/API Creation and Management/api-creation-management">API Creation and Management</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/API Creation and Management/api-creation-management">API Creation and Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/API Creation and Management/generating-a-database-backed-api">Generating a Database-backed API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/API Creation and Management/interacting-with-api">Interacting with the API</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Security and Authentication/role-based-access">Security and Authentication</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Scripting/scripting-resources">Scripting</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Advanced Topics/advanced-topics">Advanced Topics</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">API Creation and Management</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Generating a Database-backed API</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Generating a Database-backed API</h1></header>
<p>DreamFactory&#x27;s capabilities are vast, however its most popular feature is the ability to generate a database-backed REST API. By embracing this automated approach, development teams can shave weeks if not months off the development cycle, and in doing so greatly reduce the likelihood of bugs or security issues due to mishaps such as SQL injection. This approach doesn&#x27;t come with any trade offs either, because DreamFactory&#x27;s database-backed APIs are fully-featured REST interfaces. They offer comprehensive CRUD (create, retrieve, update, delete) capabilities, endpoints for executing stored procedures, and even endpoints for managing the schema.</p>
<p>This topic details DreamFactory&#x27;s ability to generate, secure, and deploy a database-backed API in just minutes. We&#x27;ve included infomation to help you successfully complete the following tasks:</p>
<ul>
<li>Generate a new database-backed REST API</li>
<li>Secure API access to your API using API keys and roles</li>
<li>Interact with the auto-generated Swagger documentation</li>
<li>Query the API using a third-party HTTP client</li>
<li>Synchronize records between two databases</li>
</ul>
<p>We chose MySQL as the basis for examples throughout, because it is free, ubiquitously available on hosting providers and cloud environments, and can otherwise be easily installed on all operating systems. To follow along, ensure you have the following:</p>
<ul>
<li>Access to a DreamFactory instance and a MySQL database.</li>
<li>If your MySQL database is running somewhere other than your laptop, ensure your firewall is configured to allow traffic between port 3306 and the location where your DreamFactory instance is running.</li>
<li>A MySQL user account configured so that it can connect to your MySQL server from the DreamFactory instance&#x27;s IP address.</li>
</ul>
<p>Before we begin, keep in mind that MySQL is just one of 18 databases supported by DreamFactory. The following table presents a complete list of what we support:</p>
<table><thead><tr><th>Databases</th><th>SQL and No SQL</th></tr></thead><tbody><tr><td>AWS DynamoDB</td><td>IBM Informix</td></tr><tr><td>AWS Redshift</td><td>MongoDB</td></tr><tr><td>Azure DocumentDB</td><td>MySQL</td></tr><tr><td>Azure Table Storage</td><td>Oracle</td></tr><tr><td>Cassandra</td><td>PostgreSQL</td></tr><tr><td>Couchbase</td><td>Salesforce</td></tr><tr><td>CouchDB</td><td>SAP SQL Anywhere</td></tr><tr><td>Firebird</td><td>SQLite</td></tr><tr><td>IBM Db2</td><td>SQL Server</td></tr></tbody></table>
<p>Best of all, thanks to DreamFactory&#x27;s unified interface and API generation solution, everything you learn in this topic applies identically to your chosen database! If you plan on using another database, then by all means follow along using it instead!</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Looking for a more concise overview of the database API generation process? Check out our blog post, <a href="https://blog.dreamfactory.com/create-a-mysql-rest-api-in-minutes-using-dreamfactory/" target="_blank" rel="noopener noreferrer">&quot;Create a MySQL REST API in Minutes Using DreamFactory&quot;</a>!</p></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Want to create a MySQL API but don&#x27;t have any test data? You can download a sample database from the MySQL website containing several million records of contrived employee-related data. <a href="https://dev.mysql.com/doc/employee/en/" target="_blank" rel="noopener noreferrer">Click here</a> to learn more and install the example database. If you&#x27;ve started a <a href="https://genie.dreamfactory.com/" target="_blank" rel="noopener noreferrer">DreamFactory hosted trial</a> then we&#x27;ve created this database for you! Your welcome e-mail includes the necessary credentials.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="generating-a-mysql-backed-api">Generating a MySQL-backed API<a href="#generating-a-mysql-backed-api" class="hash-link" aria-label="Direct link to Generating a MySQL-backed API" title="Direct link to Generating a MySQL-backed API">​</a></h2>
<p>To generate a MySQL-backed API, log in to your DreamFactory instance using an administrator account and select the <strong>API Generation &amp; Connections</strong> tab. Set your API Type to <strong>Database</strong>, and then click the purple plus button to establish a new connection:</p>
<img src="/img/database-backed-api/database-api-creation.png" width="800" alt="Generate a MySQL API with DreamFactory">
<p>Numerous database types such as MS SQL Server, Oracle, Snowflake, and more are available. There&#x27;s a lot to review in this menu, but for the moment let&#x27;s stay on track and search for <code>MySQL</code>:</p>
<img src="/img/database-backed-api/database-api-selection.png" width="800" alt="Select MySQL Database Service">
<p>Select MySQL, and you are then presented with the following form:</p>
<img src="/img/database-backed-api/mysql-details.png" width="800" alt="MySQL Service Information Screen">
<p>Let&#x27;s review the available fields:</p>
<ul>
<li><strong>Name</strong>: The name forms part of your API URL, so ensure you use a lowercase string with no spaces or special characters. You also want to choose a name that allows you to easily identify the API&#x27;s purpose. For instance for your MySQL-backed API you might choose a name such as <code>mysql</code>, <code>corporate</code>, or <code>store</code>. Keep in mind lowercasing the name is a requirement.</li>
<li><strong>Label</strong>: The label is used for referential purposes within the administration interface and system-related API responses. You can use something more descriptive here, such as &quot;MySQL-backed Corporate Database API&quot;.</li>
<li><strong>Description</strong>: Like the label, the description is used for referential purposes within the administration interface and system-related API responses. We recommend including a brief description of what the API is used for.</li>
<li><strong>Active</strong>: This toggle determines if the API is active or not. By default it is set to active, however if you&#x27;re not yet ready to begin using the API or would like to later temporarily disable it, just return to this screen and toggle the checkbox.</li>
</ul>
<p>After completing these fields, click <code>Next</code> at the bottom of the interface and the following form displays. We&#x27;ve only included the top of the form as it is fairly long:</p>
<img src="/img/database-backed-api/mysql-credentials.png" width="800" alt="MySQL Service Configuration Screen">
<p>This form might look a bit intimidating at first, however in most cases there are only a few fields you need to complete. Let&#x27;s cover those first, followed by an overview of the optional fields.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="required-configuration-fields">Required configuration fields<a href="#required-configuration-fields" class="hash-link" aria-label="Direct link to Required configuration fields" title="Direct link to Required configuration fields">​</a></h3>
<p>There are only five (sometimes six) fields you need to completed in order to generate a database-backed API. These include:</p>
<ul>
<li><strong>Host</strong>: The database server&#x27;s host address. This may be an IP address or a domain name.</li>
<li><strong>Port Number</strong>: The database server&#x27;s port number. For MySQL this is 3306.</li>
<li><strong>Database</strong>: The name of the database you&#x27;d like to expose via the API.</li>
<li><strong>Username</strong>: The username associated with the database user account used to connect to the database.</li>
<li><strong>Password</strong>: The password associated with the database user account used to connect to the database.</li>
<li><strong>Schema</strong>: If your database supports the concept of a schema, you may specify it here. MySQL doesn&#x27;t support the concept of a schema, but many other databases do.</li>
</ul>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>Keep in mind you are generating an API which can in fact interact with the underlying database! While perhaps obvious, once you generate this API it means any data or schema manipulation requests you subsequently issue will affect your database. Therefore be sure to connect to a test database when first experimenting with DreamFactory so you don&#x27;t issue requests that you later come to regret.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="optional-configuration-fields">Optional Configuration Fields<a href="#optional-configuration-fields" class="hash-link" aria-label="Direct link to Optional Configuration Fields" title="Direct link to Optional Configuration Fields">​</a></h3>
<p>Following the required fields there are a number of optional parameters. These can and do vary slightly according to the type of database you&#x27;ve selected, so don&#x27;t be surprised if you see some variation below. Don&#x27;t worry about this too much at the moment, because chances are you&#x27;re not going to need to modify any of the optional configuration fields at this time. However we&#x27;d like to identify a few fields which are used more often than others:</p>
<ul>
<li><strong>Maximum Records</strong>: You can use this field to place an upper limit on the number of records returned.</li>
<li><strong>Data Retrieval Caching Enabled</strong>: Enabling caching dramatically improves performance. This field is used in conjunction with <code>Cache Time to Live</code>, introduced next.</li>
<li><strong>Cache Time to Live (minutes)</strong>: If data caching is enabled, you can use this field to specify the cache lifetime in minutes.</li>
</ul>
<p>After completing the required fields in addition to any desired optional fields, click <code>Save</code> to generate your API. After a moment a pop up message displays indicating <code>Service Saved Successfully</code> and you are redirected to your API Documentation. Congratulations you&#x27;ve just generated your first database-backed API! So what can you do with this cool new toy? Read on to learn more.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="a-note-about-api-capabilities">A note about API capabilities<a href="#a-note-about-api-capabilities" class="hash-link" aria-label="Direct link to A note about API capabilities" title="Direct link to A note about API capabilities">​</a></h3>
<p>Most databases employ a user authorization system which gives administrators the ability to determine exactly what a user can do after successfully establishing a connection. In the case of MySQL, <em>privileges</em> are used for this purpose. Administrators can grant and revoke user privileges, and in doing so determine what databases a user can connect to, whether the user can create, retrieve, update, and delete records, and whether the user has the ability to manage the schema.</p>
<p>Because DreamFactory connects to your database on behalf of this user, the resulting API is logically constrained by that user&#x27;s authorized capabilities. DreamFactory does however display a complete set of Swagger documentation regardless, so if you are attempting to interact with the API via the Swagger docs or using any other client and aren&#x27;t obtaining the desired outcome, check your database user permissions to confirm the user is authorized to carry out the desired task.</p>
<p>Also keep in mind this can serve as an excellent way to further lock down your API. Although DreamFactory offers excellent security-related features for restricting API access, it certainly doesn&#x27;t hurt to additionally configure the connecting database user&#x27;s privileges to reflect the desired API capabilities. For instance, if you intend for the API to be read-only, then create a database user with read-only authorization. If API read and create capabilities are desired, then configure the user accordingly.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-setup-a-mysql-api-through-an-ssh-tunnel">How to setup a MySQL API through an SSH tunnel<a href="#how-to-setup-a-mysql-api-through-an-ssh-tunnel" class="hash-link" aria-label="Direct link to How to setup a MySQL API through an SSH tunnel" title="Direct link to How to setup a MySQL API through an SSH tunnel">​</a></h3>
<p>If you prefer DreamFactory to connect to your MySQL database through an SSH tunnel, then this is a relatively easy process, and can be done by starting an SSH tunnel from within your DreamFactory server. First add your database server&#x27;s key to where your DreamFactory instance is located. Then open up a terminal window and enter the following command, replacing where necessary:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ssh -N -L &lt;anOpenHostPort&gt;:127.0.0.1:&lt;mySqlPortOfDBServer&gt; computerUser@&lt;ip&gt; -i &lt;pathToKey&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For example, if I want to use port 3307 on my DreamFactory server to connect to the default database port of my MySQL server (3306), and &quot;admin&quot; is the remote SSH user who has the necessary privileges, the command looks like this:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ssh -N -L 3307:127.0.0.1:3306 admin@10.0.0.10 -i ./server_key</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Once the connection has been established, in the DreamFactory interface, you can create your service in the same manner as described above. Instead of pointing to the MySQL server, you point it to the SSH tunnel (localhost).</p>
<img src="/img/database-backed-api/mysql-ssh-tunnel.png" width="800" alt="Setup a MySQL API Through an SSH Tunnel">
<p>And that&#x27;s it! You now have the same capabilties as you would with a standard MySQL-backed API, just connected through SSH.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Reminder</div><div class="admonitionContent_BuS1"><p>Remember that your <em>SSH user</em> (which is used when creating your tunnel from the command line) is most likely different to your <em>MySQL user</em> (which is added in DreamFactory when creating your service).</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="interaction-using-postman">Interaction using Postman<a href="#interaction-using-postman" class="hash-link" aria-label="Direct link to Interaction using Postman" title="Direct link to Interaction using Postman">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="installation">Installation<a href="#installation" class="hash-link" aria-label="Direct link to Installation" title="Direct link to Installation">​</a></h3>
<p>Postman is a utility that allows you to quickly test and use REST APIs. To use the latest published version, click <strong>Run in Postman</strong> below to import the DreamFactory MYSQL API as a collection:</p>
<p><a href="https://app.getpostman.com/run-collection/a01fb99056769a35df72" target="_blank" rel="noopener noreferrer"><img decoding="async" loading="lazy" src="https://run.pstmn.io/button.svg" alt="Run in Postman" class="img_ev3q"></a></p>
<p>You can also download the collection file from <a href="https://github.com/dreamfactorysoftware/dreamfactory-postman-collection" target="_blank" rel="noopener noreferrer">this repo</a>, then import directly into Postman.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="interacting-with-your-api-via-the-api-docs">Interacting with your API via the API Docs<a href="#interacting-with-your-api-via-the-api-docs" class="hash-link" aria-label="Direct link to Interacting with your API via the API Docs" title="Direct link to Interacting with your API via the API Docs">​</a></h2>
<p>The <code>Service Saved Successfully</code> message which appears following successful generation of a new REST API is rather anticlimactic. This simple message really doesn&#x27;t convey exactly how much tedious work DreamFactory has just saved you and your team. Not only did it generate a fully-featured REST API, but it also secured it from unauthorized access and additionally generated interactive <a href="https://swagger.io/" target="_blank" rel="noopener noreferrer">OpenAPI documentation</a> for all of your endpoints! If you haven&#x27;t used Swagger before, you&#x27;re in for a treat because it&#x27;s a really amazing tool which allows developers to get familiar with an API without having to write any code. Additionally, each endpoint is documented with details about both the input parameters and response.</p>
<p>If you were not automatically redirected to this page, select the <code>API Docs</code> tab located on the navbar under <code>API Generation &amp; Connections</code>:</p>
<img src="/img/database-backed-api/api-docs-navbar.png" width="300" alt="Interacting with your DreamFactory API with the Docs Tab">
<p>You are presented with a list of all documentation associated with your DreamFactory instance. The <code>db</code>, <code>email</code>, <code>files</code>, <code>logs</code>, <code>system</code>, and <code>user</code> documentation are automatically included with all DreamFactory instances, and can be very useful should you eventually desire to programmatically manage your instance. Let&#x27;s just ignore those for now and focus on the newly generated database documentation. The following screen displays:</p>
<img src="/img/database-backed-api/apidocs-mysql.png" width="800" alt="DreamFactory API Docs Tab">
<p>Scrolling through this list, you can see that quite a few API endpoints have been generated! If you generated an API for a database which supports stored procedures, towards the top endpoints named <code>GET /_proc/{procedure_name}</code> and <code>POST /_proc/{procedure_name}</code> are listed. Scrolling down, quite a few endpoints used to manage your schema are visible, followed by a set of CRUD (create, retrieve, update, delete) endpoints which are undoubtedly the most commonly used of the bunch.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="querying-table-records">Querying table records<a href="#querying-table-records" class="hash-link" aria-label="Direct link to Querying table records" title="Direct link to Querying table records">​</a></h3>
<p>Let&#x27;s test the API by retrieving a set of table records. Select the <code>GET /_table/{table_name} Retrieve one or more records</code> entry:</p>
<img src="/img/database-backed-api/apidocs-mysql-getrecords.png" width="800" alt="Querying Table Records">
<p>A slideout window opens containing two sections. The first, <code>Parameters</code>, identifies the supported request parameters. The second, <code>Responses</code>, indicates what you can expect to receive by way of a response, including the status code and a JSON response template. In the case of the <code>GET _/table/{table_name}</code> endpoint, you have quite a few parameters at your disposal, because this endpoint represents the primary way in which table data is queried. By manipulating these parameters you can query for all records, or a specific record according to its primary key, or a subset of records according to a particular condition. You can also use these parameters to perform other commonplace tasks such as grouping and counting records, and joining tables.</p>
<p>To test the endpoint, on the right side of the page, click <code>Try it out</code>. When you do, the input parameter fields are enabled, allowing you to enter values to modify the default query&#x27;s behavior. For the moment we&#x27;re going to modify just one parameter: <code>table_name</code>. It&#x27;s located at the very bottom of the parameter list. Enter the name of a table you know exists in the database, and press the blue <code>Execute</code> button. Below the button is a &quot;Loading&quot; icon, and soon thereafter a list of records found in the designated table are presented in JSON format. Here&#x27;s an example of what you see when running this endpoint against your test MySQL database:</p>
<img src="/img/database-backed-api/apidocs-mysql-getrecords-output.png" width="800" alt="JSON response of API call to MySQL Database">
<p>Congratulations! You&#x27;ve just successfully interacted with the database API using the Swagger documentation. If you don&#x27;t see a list of records, confirm the following:</p>
<ul>
<li>Does the specified table exist?</li>
<li>If you received a <code>500</code> status code, check the service configuration credentials. The <code>500</code> code almost certainly means DreamFactory was unable to connect to the database. If everything checks out, make sure you can connect to the database from the DreamFactory instance&#x27;s IP address via the database port. If you can&#x27;t then it&#x27;s probably a firewall issue.</li>
</ul>
<p>The API Docs interface is fantastically useful for getting familiar with an API, and we encourage you to continue experimenting with the different endpoints to learn more about how it works. However, you&#x27;ll eventually want to transition from interacting with your APIs via the API Docs interface to doing so using a third-party client, and ultimately by way of your own custom applications. So let&#x27;s take that next step now, and interact with the new API using an HTTP client. In the last section you were introduced to a few such clients. We&#x27;ll be using Insomnia for the following examples however there is no material differences between Insomnia, Postman, or any other similar client.</p>
<p>First we need to create an API key to be used to exclusively for accessing this database API. This is done by first creating <em>Role Based Access</em> and then assigning the Role to an <em>API Key</em>. Let&#x27;s take care of this in the next section.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="synchronizing-records-between-two-databases--move-to-scripting-section-">Synchronizing records between two databases * Move to Scripting Section *<a href="#synchronizing-records-between-two-databases--move-to-scripting-section-" class="hash-link" aria-label="Direct link to Synchronizing records between two databases * Move to Scripting Section *" title="Direct link to Synchronizing records between two databases * Move to Scripting Section *">​</a></h3>
<p>You can easily synchronize records between two databases by adding a pre_process event script to the database API endpoint for which the originating data is found. To do so, navigate to the <strong>Scripts</strong> tab, select the desired database API, and then drill down to the desired endpoint. For instance, if we wanted to retrieve a record from a table named employees found within database API named mysql and send it to another database API (MySQL, SQL Server, etc.) named contacts and possessing a table named names, we would drill down to the following endpoint within the Scripts interface:</p>
<p><code>mysql &gt; mysql._table.{table_name} &gt; mysql._table.{table_name}.get.post_process  mysql._table.employees.get.post_process</code></p>
<p>Once there, you can choose the desired scripting language. We&#x27;ve chosen PHP for this example, but you can learn more about other available scripting engines <a href="https://wiki.dreamfactory.com/DreamFactory/Features/Scripting" target="_blank" rel="noopener noreferrer">within our wiki documentation</a>. Enable the <code>Active</code> checkbox, and add the following script to the glorified code editor:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    // Assign the $platform[&#x27;api&#x27;] array value to a convenient variable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $api = $platform[&#x27;api&#x27;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Declare a few arrays for later use</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $options = [];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $record = [];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Retrieve the response body. This contains the returned records.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $responseBody = $event[&#x27;response&#x27;][&#x27;content&#x27;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Peel off just the first (and possibly only) record</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $employee = $responseBody[&quot;resource&quot;][0];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Peel the employee record&#x27;s first_name and last_name values,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // and assign them to two array keys named first and last, respectively.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $record[&quot;resource&quot;] = [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;first&#x27; =&gt; $employee[&quot;first_name&quot;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;last&#x27; =&gt; $employee[&quot;last_name&quot;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Identify the location to which $record will be POSTed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // and execute an API POST call.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $url = &quot;contacts/_table/names&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $post = $api-&gt;post;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $result = $post($url, $record, $options);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Save the changes, making sure the script&#x27;s <code>Active</code> checkbox is enabled. Then make a call to the <code>employees</code> table which results in the return of a single record, such as:</p>
<p><code>/api/v2/mysql/_table/employees?filter=emp_no=10001</code></p>
<p>Of course, there&#x27;s nothing stopping you from modifying the script logic to iterate over an array of returned records.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="obfuscating-a-table-endpoint--move-to-scripting-section-">Obfuscating a table endpoint * Move to Scripting Section *<a href="#obfuscating-a-table-endpoint--move-to-scripting-section-" class="hash-link" aria-label="Direct link to Obfuscating a table endpoint * Move to Scripting Section *" title="Direct link to Obfuscating a table endpoint * Move to Scripting Section *">​</a></h2>
<p>Sometimes you might want to completely obfuscate the DreamFactory-generated database API endpoints, and give users a URI such as <code>/api/v2/employees</code> rather than <code>/api/v2/mysql/_table/employees</code>. At the same time you don&#x27;t want to limit the ability to perform all of the usual CRUD tasks. Fortunately this is easily accomplished using a scripted service. The following example presents the code for a scripted PHP service that has been assigned the namespace <code>employees</code>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    $api = $platform[&#x27;api&#x27;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $get = $api-&gt;get;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $post = $api-&gt;post;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $put = $api-&gt;put;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $patch = $api-&gt;patch;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $delete = $api-&gt;delete;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $api_path = &#x27;mysql/_table/employees&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $method = $event[&#x27;request&#x27;][&#x27;method&#x27;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $options = [];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $params = $event[&#x27;request&#x27;][&#x27;parameters&#x27;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $result = &#x27;&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $resource = $event[&#x27;response&#x27;][&#x27;content&#x27;][&#x27;resource&#x27;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if ($resource &amp;&amp; $resource !== &#x27;&#x27;) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $api_path = $api_path + &#x27;/&#x27; . $resource;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if ($event[&#x27;request&#x27;][&#x27;payload&#x27;]) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $payload = $event[&#x27;request&#x27;][&#x27;payload&#x27;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $payload = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    switch ($method) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      case &#x27;GET&#x27;:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          $result = $get($api_path, null, $options);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      case &#x27;POST&#x27;:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          $result = $post($api_path, $payload, $options);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      case &#x27;PUT&#x27;:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          $result = $put($api_path, $payload, $options);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      case &#x27;PATCH&#x27;:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          $result = $patch($api_path, $payload, $options);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      case &#x27;DELETE&#x27;:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          $result = $delete($api_path, $payload, $options);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      default:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          $result = &quot;error&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return $result;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>With this script in place, you can use the following endpoint to interact with the MySQL API&#x27;s <code>employees</code> table:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">https://dreamfactory.example.com/api/v2/employees</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Issuing a <code>GET</code> request to this endpoint returns all of the records. Issuing a <code>POST</code> request to this endpoint with a body such as the following inserts a new record:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;resource&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;emp_no&quot;: 500037,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;birth_date&quot;: &quot;1900-12-12&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;first_name&quot;: &quot;Joe&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;last_name&quot;: &quot;Texas&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;gender&quot;: &quot;m&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;hire_date&quot;: &quot;2007-01-01&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting">​</a></h2>
<p>If you&#x27;d like to see what queries are being executed by your MySQL database, you can enable query logging. Begin by creating a file named <code>query.log</code> in your Linux environment&#x27;s <code>/var/log/mysql</code> directory:</p>
<p>$ cd /var/log/mysql
$ sudo touch query.log</p>
<p>Next, make sure the MySQL daemon can write to the log. You might have to adjust the user and group found in the below <code>chmod</code> command to suit your particular environment:</p>
<p>$ sudo chown mysql.mysql /var/log/mysql/query.log
$ sudo chmod u+w /var/log/mysql/query.log</p>
<p>Finally, turn on query logging by running the following two commands:</p>
<p>mysql&gt; SET GLOBAL general_log_file = &#x27;/var/log/mysql/query.log&#x27;;
Query OK, 0 rows affected (0.00 sec)</p>
<p>mysql&gt; SET GLOBAL general_log = &#x27;ON&#x27;;
Query OK, 0 rows affected (0.00 sec)</p>
<p>To view your executed queries in real-time, <code>tail</code> the query log:</p>
<p>$ tail -f /var/log/mysql/query.log
/usr/sbin/mysqld, Version: 5.7.19-0ubuntu0.16.04.1 ((Ubuntu)). started with:
Tcp port: 3306  Unix socket: /var/run/mysqld/mysqld.sock
Time                 Id Command    Argument
2019-03-28T14:50:19.758466Z	   76 Quit
2019-03-28T14:50:31.648530Z	   77 Connect	<a href="mailto:homestead@dreamfactory.test" target="_blank" rel="noopener noreferrer">homestead@dreamfactory.test</a> on employees using TCP/IP
2019-03-28T14:50:31.648635Z	   77 Query	use <code>employees</code>
2019-03-28T14:50:31.648865Z	   77 Prepare	set names &#x27;utf8&#x27; collate &#x27;utf8_unicode_ci&#x27;
2019-03-28T14:50:31.648923Z	   77 Execute	set names &#x27;utf8&#x27; collate &#x27;utf8_unicode_ci&#x27;
2019-03-28T14:50:31.649029Z	   77 Close stmt
2019-03-28T14:50:31.649305Z	   77 Prepare	select <code>first_name</code>, <code>hire_date</code> from <code>employees</code>.<code>employees</code> limit 5 offset 0
2019-03-28T14:50:31.649551Z	   77 Execute	select <code>first_name</code>, <code>hire_date</code> from <code>employees</code>.<code>employees</code> limit 5 offset 0
2019-03-28T14:50:31.649753Z	   77 Close stmt
2019-03-28T14:50:31.696379Z	   77 Quit</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="checking-your-user-credentials">Checking your user credentials<a href="#checking-your-user-credentials" class="hash-link" aria-label="Direct link to Checking your user credentials" title="Direct link to Checking your user credentials">​</a></h3>
<p>Many database API generation issues arise due to a misconfigured set of user credentials. These credentials must possess privileges capable of connecting from the IP address where DreamFactory resides. To confirm your user can connect from the DreamFactory server, create a file named mysql-test.php and add the following contents to it. Replace the <code>HOSTNAME</code>, <code>DBNAME</code>, <code>USERNAME</code>, and <code>PASSWORD</code> placeholders with your credentials:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $dsn = &quot;mysql:host=HOSTNAME;dbname=DBNAME&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $user = &quot;USERNAME&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $passwd = &quot;PASSWORD&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $pdo = new PDO($dsn, $user, $passwd);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $stmt = $pdo-&gt;query(&quot;SELECT VERSION()&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $version = $stmt-&gt;fetch();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo $version[0] . PHP_EOL;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Save the changes and run the script like so:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    $ php mysql-test.php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    5.7.29-0ubuntu0.16.04.1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If the MySQL version number isn&#x27;t returned, then the user is unable to connect remotely.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="logging-your-database-queries">Logging your database queries<a href="#logging-your-database-queries" class="hash-link" aria-label="Direct link to Logging your database queries" title="Direct link to Logging your database queries">​</a></h3>
<p>If you want to see the database queries being generated by DreamFactory, open the <code>.env</code> file, and in &#x27;Database Settings&#x27; the following details are visible:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#DB_QUERY_LOG_ENABLED=false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Uncomment and set the <code>DB_QUERY_LOG_ENABLED</code> value to <code>true</code>, and also set <code>APP_LOG_LEVEL=debug</code>. Whenever you make a database query, the statement is sent to the log file (found in <code>storage/logs/dreamfactory.log</code>). A typical output to the log looks like this:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[2021-05-28T05:47:10.965487+00:00] local.DEBUG: API event handled: mysqldb._table.{table_name}.get.pre_process  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2021-05-28T05:47:10.966765+00:00] local.DEBUG: API event handled: mysqldb._table.employees.get.pre_process  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2021-05-28T05:47:12.388272+00:00] local.DEBUG: service.mysqldb: select `emp_no`, `birth_date`, `first_name`, `last_name`, `gender`, `hire_date` from `xenonpartners`.`employees` limit 2 offset 0: 1385.25  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2021-05-28T05:47:12.392063+00:00] local.DEBUG: API event handled: mysqldb._table.{table_name}.get.post_process  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2021-05-28T05:47:12.393794+00:00] local.DEBUG: API event handled: mysqldb._table.employees.get.post_process </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="adding-a-custom-log-message-to-your-database-queries">Adding a custom log message to your database queries<a href="#adding-a-custom-log-message-to-your-database-queries" class="hash-link" aria-label="Direct link to Adding a custom log message to your database queries" title="Direct link to Adding a custom log message to your database queries">​</a></h4>
<p>When using a scripted service, and with <code>DB_QUERY_LOG_ENABLED</code> set to <code>true</code>, it is possible to add a custom log message using the following syntax:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">use Log;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if (config(&#x27;df.db.query_log_enabled&#x27;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    \Log::debug(&lt;your message&gt;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>See <a href="/limiting-and-logging-api-requests/">this section</a> for more information about logging.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-extensions-with-your-databases-postgresql">Using extensions with your databases (PostgreSQL)<a href="#using-extensions-with-your-databases-postgresql" class="hash-link" aria-label="Direct link to Using extensions with your databases (PostgreSQL)" title="Direct link to Using extensions with your databases (PostgreSQL)">​</a></h3>
<p>PostgreSQL has a number of extensions to enhance database capabilities. One of the most popular is PostGIS and its topology functionality for representing vector data.</p>
<p>If your PostgreSQL database uses this (or any other) extension, when using DreamFactory to make an API call (especially a function or procedure), you may see this error, or something similar to it:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;error&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;code&quot;: 500,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;context&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;message&quot;: &quot;Failed to call database stored function.\nSQLSTATE[42883]: Undefined function: 7 ERROR:  function st_setsrid(public.geometry, integer) does not exist</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ... </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This is most likely occuring because the extension&#x27;s functions are located in a different schema to the schema used by the database, and the postgreSQL user that DreamFactory has been assigned, as a result, cannot see it.</p>
<p>In order for DreamFactory to be able to see the extension&#x27;s functions, you should add this line to the <code>Additional SQL Statements</code> setting (change to match the extensions and schemas you are using) which you can find in your postgres service&#x27;s <strong>Configuration</strong> tab&#x27;s <strong>Optional Advanced Settings</strong>.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SET search_path TO &quot;$user&quot;, public, postgis, topology;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<img src="/img/database-backed-api/postgis_search_path.png" width="800" alt="Adding a search path to your postgres connection">
<p>This allows DreamFactory to search through additional schemas to find the functions that the database requires when using any extensions.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/dreamfactorysoftware/df-docs/tree/main/docs/API Creation and Management/generating-a-database-backed-api.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/API Creation and Management/api-creation-management"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">API Creation and Management</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/API Creation and Management/interacting-with-api"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Interacting with the API</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#generating-a-mysql-backed-api" class="table-of-contents__link toc-highlight">Generating a MySQL-backed API</a><ul><li><a href="#required-configuration-fields" class="table-of-contents__link toc-highlight">Required configuration fields</a></li><li><a href="#optional-configuration-fields" class="table-of-contents__link toc-highlight">Optional Configuration Fields</a></li><li><a href="#a-note-about-api-capabilities" class="table-of-contents__link toc-highlight">A note about API capabilities</a></li><li><a href="#how-to-setup-a-mysql-api-through-an-ssh-tunnel" class="table-of-contents__link toc-highlight">How to setup a MySQL API through an SSH tunnel</a></li></ul></li><li><a href="#interaction-using-postman" class="table-of-contents__link toc-highlight">Interaction using Postman</a><ul><li><a href="#installation" class="table-of-contents__link toc-highlight">Installation</a></li></ul></li><li><a href="#interacting-with-your-api-via-the-api-docs" class="table-of-contents__link toc-highlight">Interacting with your API via the API Docs</a><ul><li><a href="#querying-table-records" class="table-of-contents__link toc-highlight">Querying table records</a></li><li><a href="#synchronizing-records-between-two-databases--move-to-scripting-section-" class="table-of-contents__link toc-highlight">Synchronizing records between two databases * Move to Scripting Section *</a></li></ul></li><li><a href="#obfuscating-a-table-endpoint--move-to-scripting-section-" class="table-of-contents__link toc-highlight">Obfuscating a table endpoint * Move to Scripting Section *</a></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a><ul><li><a href="#checking-your-user-credentials" class="table-of-contents__link toc-highlight">Checking your user credentials</a></li><li><a href="#logging-your-database-queries" class="table-of-contents__link toc-highlight">Logging your database queries</a></li><li><a href="#using-extensions-with-your-databases-postgresql" class="table-of-contents__link toc-highlight">Using extensions with your databases (PostgreSQL)</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/intro">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/dreamfactorysoftware/dreamfactory" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/dreamfactory" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/dreamfactorysoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/dreamfactory-software-inc" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@DreamfactorySoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://blog.dreamfactory.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Legacy Blog</a></li><li class="footer__item"><a href="https://wiki.dreamfactory.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Legacy Wiki</a></li><li class="footer__item"><a href="https://guide.dreamfactory.com/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Legacy Docs</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 DreamFactory Software, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>